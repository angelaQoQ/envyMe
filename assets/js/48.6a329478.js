(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{204:function(a,t,e){"use strict";e.r(t);var r=e(0),_=Object(r.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"_0-一小时小程序概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-一小时小程序概述","aria-hidden":"true"}},[a._v("#")]),a._v(" 0.一小时小程序概述")]),a._v(" "),e("h2",{attrs:{id:"_1-逻辑层-js执行部分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-逻辑层-js执行部分","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.逻辑层: Js执行部分")]),a._v(" "),e("h2",{attrs:{id:"_2-渲染层-wxml和wxss渲染部分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-渲染层-wxml和wxss渲染部分","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.渲染层: wxml和wxss渲染部分")]),a._v(" "),e("h2",{attrs:{id:"_3-二者之间的关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-二者之间的关系","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.二者之间的关系:")]),a._v(" "),e("ol",[e("li",[a._v("渲染层与数据有关")]),a._v(" "),e("li",[a._v("逻辑层控制数据得到产生和处理")]),a._v(" "),e("li",[a._v("逻辑层通过this.setData()向渲染层传递数据")]),a._v(" "),e("li",[a._v("通过微信原生代码进行关联")])]),a._v(" "),e("h2",{attrs:{id:"_4-通信模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-通信模型","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.通信模型")]),a._v(" "),e("h3",{attrs:{id:"渲染层使用webview线程管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#渲染层使用webview线程管理","aria-hidden":"true"}},[a._v("#")]),a._v(" 渲染层使用webview线程管理")]),a._v(" "),e("h3",{attrs:{id:"逻辑层使用jscore线程管理js脚本运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#逻辑层使用jscore线程管理js脚本运行","aria-hidden":"true"}},[a._v("#")]),a._v(" 逻辑层使用JsCore线程管理js脚本运行")]),a._v(" "),e("ul",[e("li",[a._v("一个小程序存在多个page,就需要多个webview线程")]),a._v(" "),e("li",[a._v("因为所有页面的Js执行都在一条线程上, 在使用结束后记得手动把定时器清除")])]),a._v(" "),e("h2",{attrs:{id:"_5-小程序数据驱动思想"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-小程序数据驱动思想","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.小程序数据驱动思想:")]),a._v(" "),e("ul",[e("li",[a._v("使用VDom映射wxml中的结构")]),a._v(" "),e("li",[a._v("在setData调用时系统会比对新的VDom对象和原有VDom对象之间的差别,将差异更新应用到旧的DOM树上")]),a._v(" "),e("li",[a._v("因为数据处理和数据展示是在两个线程中执行,setData()是异步函数和,第一个参数是数据对象,第二个参数是数据处理完成后的callback")]),a._v(" "),e("li",[a._v("在使用setData()时,每次只修改最小单位的数据,每次操作量不要超过1024Kb,data默认值不要设置undefined")])]),a._v(" "),e("h2",{attrs:{id:"_6-app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-app","aria-hidden":"true"}},[a._v("#")]),a._v(" 6.App")]),a._v(" "),e("ul",[e("li",[a._v("宿主环境提供了App()构造,必须在app.js中调用执行,其他页面中可以使用getApp()获取小程序对象App")]),a._v(" "),e("li",[a._v("App包含了3个生命钩子: onLaunch onShow onHide\n"),e("ul",[e("li",[a._v("App打开方式很多,系统给onLaunch 和 onShow提供了参数option对象:\n"),e("ul",[e("li",[a._v("path: 打开小程序的页面")]),a._v(" "),e("li",[a._v("query: 打开小程序的连接参数")]),a._v(" "),e("li",[a._v("scene: 打开小程序的场景值")]),a._v(" "),e("li",[a._v("shareTicket: 分享")]),a._v(" "),e("li",[a._v("referrerInfo: 由公众号/其他小程序跳转来")]),a._v(" "),e("li",[a._v("referrerInfo.appId: 跳转来的小程序/公众号的appid")]),a._v(" "),e("li",[a._v("referrerInfo.extraData: 跳转来携带的参数")])])])])]),a._v(" "),e("li",[a._v("全局数据:app.js中globalData.")])]),a._v(" "),e("h2",{attrs:{id:"_7-页面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-页面","aria-hidden":"true"}},[a._v("#")]),a._v(" 7.页面")]),a._v(" "),e("ul",[e("li",[a._v("页面需要配置在app.json的pages项中,否则不会被加载")]),a._v(" "),e("li",[a._v("宿主环境提供了Page()构造器来注册小程序页面")]),a._v(" "),e("li",[a._v("Page包含5个生命钩子: onLoad onUnLoad onReady onShow onHide\n"),e("ul",[e("li",[a._v("时间上: onLoad > onShow > onReady")]),a._v(" "),e("li",[a._v("onLoad 页面加载, 页面销毁前,只调用一次,页面切换复用会触发onShow")]),a._v(" "),e("li",[a._v("onShow 页面展示, 页面切换触发调用")]),a._v(" "),e("li",[a._v("onReady 页面渲染完成, 页面销毁之前,只调用一次")])])]),a._v(" "),e("li",[a._v("Page包含4个页面交互钩子:\n"),e("ul",[e("li",[a._v("onPullDownRefresh  :需要app.json>window中 || page.json中配置enablePullDownRefresh:true, 在逻辑完成后可以调用stopPullDownRefresh()结束效果")]),a._v(" "),e("li",[a._v("onReachBottom :在app.json>window中 || page.json中配置onReachBottomDistance:值")]),a._v(" "),e("li",[a._v("onPageScroll :回调参数的scrollTop属性表示卷曲值")]),a._v(" "),e("li",[a._v("onShareAppMessage : 返回值是对象: title:转发的标题; path:要转发的页面路径")])])]),a._v(" "),e("li",[a._v("页面栈:\n"),e("ul",[e("li",[a._v("通过navigateTo推入页面,组成的前后历史关系叫页面栈")]),a._v(" "),e("li",[a._v("页面栈最多10层, 满10层后不能继续推入")]),a._v(" "),e("li",[a._v("redirectTo会替换页面栈尾项")]),a._v(" "),e("li",[a._v("switchTab会清空之前的页面栈,之前页面栈中的页面会被销毁掉")])])])]),a._v(" "),e("h2",{attrs:{id:"_8-组件-就是标签或者标签结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-组件-就是标签或者标签结构","aria-hidden":"true"}},[a._v("#")]),a._v(" 8.组件(就是标签或者标签结构)")]),a._v(" "),e("ul",[e("li",[a._v("使用import/include标签的src进行引入")]),a._v(" "),e("li",[a._v("共有属性: hidden控制组件显示隐藏")]),a._v(" "),e("li",[e("strong",[a._v("原生组件")]),a._v(": map,video,canvas,picker这些\n"),e("ul",[e("li",[a._v('都提供"context":   wx.create***Context()')]),a._v(" "),e("li",[e("strong",[a._v("原生组件的限制")]),a._v(": 因为不是Exparser渲染体系下生成的,所以CSS样式对原生组件不适用,如overflow:hidden;transform:rotate(100)等不能操作地图API, 针对原生API限制,我们可以使用cover-view 和 cover-image这两个原生组件进行覆盖")])])])]),a._v(" "),e("h3",{attrs:{id:"自定义组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义组件","aria-hidden":"true"}},[a._v("#")]),a._v(" 自定义组件")]),a._v(" "),e("ul",[e("li",[a._v("Vue中可以自定义组件, 小程序中的自定义组件和页面相同都包含js wxml wxss json4个文件")])]),a._v(" "),e("ol",[e("li",[a._v("在json文件中声明"),e("strong",[a._v("组件:true")])])]),a._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token property"}},[a._v('"component"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li")]),a._v(" "),e("h2",{attrs:{id:"_9-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-api","aria-hidden":"true"}},[a._v("#")]),a._v(" 9.API")]),a._v(" "),e("ul",[e("li",[a._v("wx.on*开头的接收回调函数")]),a._v(" "),e("li",[a._v("其他方法参数多为对象, 至少包含3个方法: success,fail,complete")]),a._v(" "),e("li",[a._v("wx.get* 获取宿主环境数据")]),a._v(" "),e("li",[a._v("wx.set* 设置宿主环境数据")])]),a._v(" "),e("h2",{attrs:{id:"_10-事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-事件","aria-hidden":"true"}},[a._v("#")]),a._v(" 10.事件")]),a._v(" "),e("h3",{attrs:{id:"事件类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件类型","aria-hidden":"true"}},[a._v("#")]),a._v(" 事件类型")]),a._v(" "),e("ul",[e("li",[a._v("touchstart")]),a._v(" "),e("li",[a._v("touchmove")]),a._v(" "),e("li",[a._v("touchend")]),a._v(" "),e("li",[a._v("touchcancel")]),a._v(" "),e("li",[a._v("tap 按下马上离开")]),a._v(" "),e("li",[a._v("longpress 长按350ms以上")]),a._v(" "),e("li",[a._v("transitionend  动画结束触发")]),a._v(" "),e("li",[a._v("animationstart 动画开始")]),a._v(" "),e("li",[a._v("animationend\t动画结束触发")])]),a._v(" "),e("h3",{attrs:{id:"事件对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 事件对象")]),a._v(" "),e("ul",[e("li",[a._v("type: 事件类型")]),a._v(" "),e("li",[a._v("timeStamp: 打开页面到事件触发的毫秒数")]),a._v(" "),e("li",[a._v("target: 触发组件的属性集合\t\t\t\t事件触发者")]),a._v(" "),e("li",[a._v("currentTarget: 当前组件的属性集合\t\t事件委托者")]),a._v(" "),e("li",[a._v("touches: 触摸点数组")])]),a._v(" "),e("h3",{attrs:{id:"事件修饰符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件修饰符","aria-hidden":"true"}},[a._v("#")]),a._v(" 事件修饰符")]),a._v(" "),e("ul",[e("li",[a._v("bind: 普通绑定 不会阻止冒泡")]),a._v(" "),e("li",[a._v("catch: 普通绑定  阻止冒泡")]),a._v(" "),e("li",[a._v("captrue-bind: 捕获绑定")]),a._v(" "),e("li",[a._v("captrue-catch: 捕获绑定阻止冒泡")])]),a._v(" "),e("h2",{attrs:{id:"_11-兼容和更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-兼容和更新","aria-hidden":"true"}},[a._v("#")]),a._v(" 11.兼容和更新")]),a._v(" "),e("h3",{attrs:{id:"获取手机系统信息和小程序版本号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取手机系统信息和小程序版本号","aria-hidden":"true"}},[a._v("#")]),a._v(" 获取手机系统信息和小程序版本号")]),a._v(" "),e("ul",[e("li",[a._v("wx.getSystemInfo")]),a._v(" "),e("li",[a._v("wx.getSystemInfoSync")])]),a._v(" "),e("h2",{attrs:{id:"_12-异常处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-异常处理","aria-hidden":"true"}},[a._v("#")]),a._v(" 12.异常处理")]),a._v(" "),e("h3",{attrs:{id:"因为小程序双线程-逻辑层中不存在window环境-渲染层中不存在jsapi环境-所以"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#因为小程序双线程-逻辑层中不存在window环境-渲染层中不存在jsapi环境-所以","aria-hidden":"true"}},[a._v("#")]),a._v(" 因为小程序双线程,逻辑层中不存在window环境,渲染层中不存在jsAPI环境,所以:")]),a._v(" "),e("ol",[e("li",[a._v("逻辑层使用: try...catch")]),a._v(" "),e("li",[a._v("渲染层使用: window.onerror ||window.addEventListener('error', callback)")])])])},[],!1,null,null,null);t.default=_.exports}}]);